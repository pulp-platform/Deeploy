# SPDX-FileCopyrightText: 2025 ETH Zurich and University of Bologna
#
# SPDX-License-Identifier: Apache-2.0

PLATFORM_NAME = "Siracusa"
SIMULATOR = "gvsoc"
DEFAULT_CORES = 8
DEFAULT_L2 = 1024000
DEFAULT_MEM_ALLOC_STRATEGY = "MiniMalloc"
DEFAULT_SEARCH_STRATEGY = "random-max"

L2_SINGLEBUFFER_KERNELS = {
    "Kernels/FP32/ReLU": [2000],
    "Kernels/FP32/Softmax/Regular": [4000],
    "Kernels/FP32/Add/Large": [220000],
    "Kernels/FP32/Conv/DW_2D_Bias": [7200],
    "Kernels/FP32/Conv/DW_2D_NoBias": [7200],
    "Kernels/FP32/Conv/DW_2D_ZeroValuedBias": [7200],
    "Kernels/FP32/Conv/Regular_2D_Bias": [6600],
    "Kernels/FP32/Conv/Regular_2D_NoBias": [1600],
    "Kernels/FP32/Conv/Regular_2D_ZeroValuedBias": [6600],
    "Kernels/FP32/GEMM/Regular": [8000],
    "Kernels/FP32/MatMul": [2000],
    "Kernels/FP32/MaxPool/Regular_2D": [2000],
    "Kernels/FP32/Mul": [2000],
    "Kernels/FP32/LayerNorm": [2000],
    "Kernels/FP32/ReduceMean/KeepDims/Add_ReduceMean": [8000],
    "Kernels/FP32/ReduceMean/KeepDims/Add_ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/KeepDims/AllAxes": [50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes1_2_3": [50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes1_3": [5000, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes2_1": [6200, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axis0": [8400, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axis2": [8400, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Add_ReduceMean": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Add_ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/AllAxes": [50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes1_2_3": [50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes1_3": [5000, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes2_1": [6200, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axis0": [8400, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axis2": [8400, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/ReduceMean_Add": [8000],
    "Kernels/FP32/Reshape/SkipConnection": [1400],
    "Kernels/FP32/Transpose": [2000],
    "Kernels/Integer/Hardswish/Regular": [750],
    "Kernels/Integer/Softmax/Regular": [800, 500, 300],
    "Kernels/Integer/Concat": [32000, 16000, 8000],
    "Kernels/Integer/MatMul/Batch": [20000],
    "Kernels/Integer/MatMul/Regular": [64000, 32000, 16000],
    "Kernels/Integer/RMSNorm": [2048, 1024, 512],
    "Kernels/Integer/Conv/Regular_2D_RQ": [8000, 6000, 4000],
    "Kernels/Integer/Conv/DW_2D_RQ": [2561],
    "Kernels/Integer/Conv/StriddedPadded_2D_RQ": [600],
    "Kernels/Integer/GEMM/Batch_RQ": [20000],
    "Kernels/Integer/Hardswish/Regular_RQ": [750],
}

L2_DOUBLEBUFFER_KERNELS = {
    "Kernels/FP32/ReLU": [20],
    "Kernels/FP32/Softmax/Regular": [8000],
    "Kernels/FP32/Conv/DW_2D_Bias": [10000],
    "Kernels/FP32/Conv/DW_2D_NoBias": [9800],
    "Kernels/FP32/Conv/DW_2D_ZeroValuedBias": [9800],
    "Kernels/FP32/Conv/Regular_2D_Bias": [8800],
    "Kernels/FP32/Conv/Regular_2D_NoBias": [2000],
    "Kernels/FP32/Conv/Regular_2D_ZeroValuedBias": [8800],
    "Kernels/FP32/GEMM/Regular": [8000],
    "Kernels/FP32/MatMul": [5000],
    "Kernels/FP32/MaxPool/Regular_2D": [5000],
    "Kernels/FP32/Mul": [2000],
    "Kernels/FP32/LayerNorm": [2000],
    "Kernels/FP32/ReduceMean/KeepDims/Add_ReduceMean": [8000],
    "Kernels/FP32/ReduceMean/KeepDims/Add_ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/KeepDims/AllAxes": [100000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes1_2_3": [100000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes1_3": [10000, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axes2_1": [13000, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axis0": [17000, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/Axis2": [17000, 50000],
    "Kernels/FP32/ReduceMean/KeepDims/ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Add_ReduceMean": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Add_ReduceMean_Add": [8000],
    "Kernels/FP32/ReduceMean/NoKeepDims/AllAxes": [100000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes1_2_3": [100000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes1_3": [10000, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axes2_1": [13000, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axis0": [17000, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/Axis2": [17000, 50000],
    "Kernels/FP32/ReduceMean/NoKeepDims/ReduceMean_Add": [8000],
    "Kernels/FP32/Reshape/SkipConnection": [2600],
    "Kernels/FP32/Transpose": [2000],
    "Kernels/Integer/Hardswish/Regular": [750],
    "Kernels/Integer/Softmax/Regular": [1600, 1000, 600],
    "Kernels/Integer/Concat": [64000, 32000, 16000],
    "Kernels/Integer/MatMul/Regular": [64000, 32000, 16000],
    "Kernels/Integer/RMSNorm": [4096, 2048, 1024],
    "Kernels/Integer/Conv/Regular_2D_RQ": [8000, 6000, 5000],
    "Kernels/Integer/Conv/DW_2D_RQ": [5121],
    "Kernels/Integer/Hardswish/Regular_RQ": [800],
}

L2_SINGLEBUFFER_MODELS = {
    "Models/CNN_Linear2": [45000, 30000, 15000],
    "Models/miniMobileNet": [60000, 12000, 6000, 3000],
    "Models/miniMobileNetv2": [60000, 16000, 12000, 8000],
    "Kernels/Integer/Attention": [60000, 10000, 5000],
    "Models/microLlama/microLlama1": [60000, 10000, 5000],
    "Models/microLlama/microLlama8": [60000, 10000, 5000],
    "Models/microLlama/microLlama8_parallel": [60000, 10000, 5000],
    "Models/MLPerf/KeywordSpotting": [64000],
    "Models/MLPerf/ImageClassification": [64000],
    "Models/MLPerf/AnomalyDetection": [64000],
    "Models/CCT/FP32/CCT_1_16_16_8": [64000],
    "Models/TinyViT/Demo": [4000],
}

L2_DOUBLEBUFFER_MODELS = {
    "Models/CNN_Linear2": [60000, 45000, 30000],
    "Models/miniMobileNet": [60000, 24000, 12000, 6000],
    "Models/miniMobileNetv2": [60000, 32000, 24000, 16000],
    "Kernels/Integer/Attention": [60000, 20000, 10000, 5000],
    "Models/microLlama/microLlama1": [60000, 20000, 10000],
    "Models/microLlama/microLlama8": [60000, 20000, 10000],
    "Models/microLlama/microLlama8_parallel": [60000, 20000, 10000],
    "Models/MLPerf/KeywordSpotting": [128000],
    "Models/MLPerf/ImageClassification": [128000],
    "Models/MLPerf/AnomalyDetection": [128000],
    "Models/CCT/FP32/CCT_1_16_16_8": [128000],
    "Models/TinyViT/Demo": [8000],
}

L3_SINGLEBUFFER_MODELS = {
    "Models/CNN_Linear2": [45000, 30000, 16000],
    "Models/miniMobileNet": [60000, 12000, 6000],
    "Models/miniMobileNetv2": [60000, 16000, 12000, 8000],
    "Kernels/Integer/Attention": [60000, 10000, 5000, 2500],
    "Models/Transformer": [60000, 30000, 15000],
    "Models/microLlama/microLlama1": [60000, 10000, 5000],
    "Models/CCT/FP32/CCT_2_32_32_128": [128000],
    "Models/CCT_Train/CCT2_FT2": [128000],
    "Models/TinyViT/Demo": [4000],
}

L3_DOUBLEBUFFER_MODELS = {
    "Models/CNN_Linear2": [60000, 45000, 30000],
    "Models/miniMobileNet": [60000, 24000, 12000, 6000],
    "Models/miniMobileNetv2": [60000, 32000, 24000, 16000],
    "Kernels/Integer/Attention": [60000, 20000, 10000, 5000],
    "Models/Transformer": [60000, 30000, 15000],
    "Models/microLlama/microLlama1": [60000, 20000, 10000],
    "Models/microLlama/microLlama8": [60000, 20000, 10000],
    "Models/microLlama/microLlama8_parallel": [60000, 20000, 10000],
    "Models/CCT/FP32/CCT_2_32_32_128": [128000],
    "Models/CCT_Train/CCT2_FT2": [128000],
    "Models/TinyViT/Demo": [4000],
}
